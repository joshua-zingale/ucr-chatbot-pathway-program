{% extends "base.html" %}

{% block title %}Login | ScottGPT{% endblock %}

{% block body %}
  <div class="login-container">

    <h1>Welcome to ScottGPT</h1>
    <form id="auth-form" action="{{url_for('web_routes.login')}}" method="post">
        <input 
          type="hidden" 
          name="csrf_token" 
          value="{{ csrf_token }}">        
        <input 
          type="text" 
          name="email" 
          placeholder="email" 
          class="input-field"
        />
        <input 
          type="password" 
          name="password" 
          placeholder="password" 
          class="input-field"
        />
        <input 
          type="submit" 
          value="Login" 
          class="btn btn-login" 
          onclick="setActionForm('login')"
        />
        <input 
          type="button" 
          class="btn login-google" 
          value="Login with Google"
            onclick="window.location.href='{{ url_for('web_routes.login_google')}}'" 
        />
    </form>
  </div>
{% endblock %}

{% block scripts %}
  <script>
    function setActionForm(action){
      let form = document.getElementById("auth-form");
      if (action === 'web_routes.login'){
          form.action = "{{url_for('web_routes.login')}}";
          form.method = "post";
          form.submit();
  }}
  </script>
{% endblock %}